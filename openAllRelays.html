<script type="text/javascript">
    RED.nodes.registerType('OpenAllRelays',{
        category: 'AC Power Module',
        color: '#FA8072',
        defaults: {
            name:{value: ""},
            slot:{value:"", required:true},

            phase_selector1: { value: "" },
            phase_selector2: { value: "" },
            phase_selector3: { value: "" },
            phase_selector4: { value: "" },
            phase_selector5: { value: "" },
        },
        inputs:1,
        outputs:1,
        icon: "AC_Power.svg",
        label: function() { return this.name? "Open Relays - " + this.name: "Open Relays" },
        paletteLabel: "Open All Relays",
        oneditprepare: function() {
            // var self = this
            // self.controle = self.qtdAll;

            // for(var i=1; i<=self.controle; i++){
            //     $(".all"+i).show();
            // }
            // if(!self.controle || self.controle < 0){
            //     self.controle = 0;
            // }
            // $("#addOpneAllRelays").click(function(){
            //     self.controle = self.controle+1 <= 24 ? self.controle + 1 : 24;

            //     $(".all"+self.controle).show();
            //     
            // });
            // $("#remOpneAllRelays").click(function(){
            //     $(".all"+self.controle).hide();
            //     self.controle = self.controle-1 >= 0 ? self.controle - 1 : 0;
            //     
            // });
        },
        oneditsave: function() {
            // this.qtdAll = this.controle;
        }
    });
</script>

<style>
    label{
        width: 100% !important;
        margin-bottom: 2px !important;
    }
    .columm{
        display: flex !important;
        flex-direction: column !important;
    }
    hr {
        width: 40% !important;
        float: left !important;
    }
    .hr-div-openRelay{
        display: flex !important;
        justify-content: space-between !important;
        /* margin-top: 400px !important; */
    }
    .optional{
        height: max-content !important;
        margin-top: 10px !important;
    }
    .descript{
        text-align: center;
    }
    .columm-30{
        display: flex !important;
        flex-direction: column !important;
        width: 30% !important;
        float: left !important;
    }
    .columm-50{
        display: flex !important;
        flex-direction: column !important;
        width: 50% !important;
        float: left !important;
    }


    .columm-70{
        display: flex !important;
        flex-direction: column !important;
        width: 70% !important;
        float: left !important;
    }

    .descript-div{
        max-width: 444px !important;
    }

    span.red-ui-typedInput-type-label {
    /* background: chartreuse; */
    /* display: block; */
    width: 250px;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    }

    .btn-aln{
        display: flex !important;
        flex-direction: row-reverse !important;
        /* padding-left: 30px; */
        align-content: center;
        align-items: flex-end;
    }
    .check{
    width: 20px !important;
    margin-top: 0px !important;
    margin-bottom: 3px;
    }

    .label-check{
        width: 200px !important;
        margin: 0px !important;
    }
</style>

<script type="text/html" data-template-name="OpenAllRelays">
    <div class="form-row columm descript-div">
        <strong class="descript">
            Changes the status of all relays to open
        </strong>
    </div>
    <div style=" position: relative; display:flex; margin-top: 20px;">
        <div class="form-row columm-70">
            <label style="width: 50% !important;" for="node-input-name" ><i class="fa fa-tag"></i> Identification Note</label>
            <input type="text" id="node-input-name" placeholder="Name" style="width: 100%">
        </div>

    </div>

    <div class="hr-div-openRelay">
        <hr>
        <span class="optional">Slot 0</span>
        <hr>
    </div>
    <div class="form-row columm">
        <label  for="node-input-slot"><i class="fa fa-sliders"></i> Slot</label>
        <input type="number" id="node-input-slot" style="width:20%;">
    </div>


    <div class= "form-row">

        <input class="check" type="checkbox" id="node-input-phase_selector1"checked>
        <label class="label-check" id="VA" for="node-input-phase_selector1"> VA </label>
    </div>
    <div class= "form-row">

        <input class="check" type="checkbox" id="node-input-phase_selector2"checked>
        <label class="label-check" id="VB" for="node-input-phase_selector2"> VB </label>
    </div>
    <div class= "form-row">
        
        <input class="check" type="checkbox" id="node-input-phase_selector3"checked>
        <label class="label-check" id="VC" for="node-input-phase_selector3"> VC </label>
    </div>
    <div class= "form-row">

        <input class="check" type="checkbox" id="node-input-phase_selector4"checked>
        <label class="label-check" id="IABC" for="node-input-phase_selector4"> IABC </label>
    
</script>

<script type="text/html" data-help-name="OpenAllRelays">
    <p>Changes the status of all relays to open</p>
</script>